const o=window.location.origin;export function Init(){window.onload=()=>{document.querySelectorAll("a").forEach((e=>{e.hasAttribute("route")&&(e.onclick=t=>{t.preventDefault(),history.pushState({},"",e.href.replace(o,"")),window.dispatchEvent(new Event("popstate"))})}))}}export function State(e,t){Object.keys(t).forEach((n=>{document.querySelector(e).querySelectorAll(n).forEach((e=>{e.innerText=t[n]}))}))}export function Component(e,t){f(t).then((t=>{const n=document.querySelector(e);n.innerHTML=t[0],n.append(t[1])}))}export function Route(e,t){const n=document.querySelector(e);function r(){const e=window.location.href.replace(o,"");Object.keys(t).includes(e)?f(t[e]).then((e=>{n.innerHTML=e[0],n.append(e[1])})):n.innerHTML=""}r(),window.addEventListener("popstate",(()=>{r()}))}async function f(e){return fetch(e).then((e=>e.text().trim())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html").body.children;if(""!==t[1].innerHTML.trim()){const e=document.createElement("script");e.innerText=t[1].innerText,e.setAttribute("type","module"),e.setAttribute("async","")}return e.replace("/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi",""),[e,script]}))}
